<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Setup Download and extract dynamodb local to some folder.
Launch it (-sharedDb allows us to connect to the same database with other tools):
$ java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb By default it will be running on the port 8000 and will create the db file in the same directory where it was launched.
Without the -sharedDB parameter the DB file name depends on connection parameters, the name is {aws_access_key_id}_{region_name}.db. So different clients can use different databases."><meta name=theme-color content="#44ccff"><meta property="og:title" content="Local Amazon DynamoDB - tools, dump/restore and testing • vim, git, aws and other three-letter words"><meta property="og:description" content="Setup Download and extract dynamodb local to some folder.
Launch it (-sharedDb allows us to connect to the same database with other tools):
$ java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb By default it will be running on the port 8000 and will create the db file in the same directory where it was launched.
Without the -sharedDB parameter the DB file name depends on connection parameters, the name is {aws_access_key_id}_{region_name}.db. So different clients can use different databases."><meta property="og:url" content="https://serebrov.github.io/html/2015-02-01-dynamodb-local.html"><meta property="og:site_name" content="vim, git, aws and other three-letter words"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:tag" content="aws"><meta property="article:tag" content="dynamodb"><meta property="article:published_time" content="2015-01-25T00:00:00Z"><meta property="article:modified_time" content="2015-01-25T00:00:00Z"><meta name=twitter:card content="summary"><meta name=generator content="Hugo 0.119.0"><title>Local Amazon DynamoDB - tools, dump/restore and testing • vim, git, aws and other three-letter words</title><link rel=canonical href=https://serebrov.github.io/html/2015-02-01-dynamodb-local.html><link rel=icon href=/favicon.ico><link rel=stylesheet href=/assets/css/main.6a060eb7.css><link rel=stylesheet href=/css/custom.css><style>:root{--color-accent:#44ccff}</style><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-58056088-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class='page type-note has-sidebar'><div class=site><div id=sidebar class=sidebar><a class=screen-reader-text href=#main-menu>Skip to Main Menu</a><div class=container><section class='widget widget-about sep-after'><header><div class=logo><a href=/><img src=/images/logo.jpg></a></div><h2 class='title site-title'><a href=/>vim, git, aws and other three-letter words</a></h2><div class=desc>Software Development Notes</div></header></section><section class='widget widget-search sep-after'><header><h4 class='title widget-title'>Search</h4></header><form action=/search id=search-form class=search-form><label><span class=screen-reader-text>Search</span>
<input id=search-term class=search-term type=search name=q placeholder=Search&mldr;></label></form></section><section class='widget widget-sidebar_menu sep-after'><nav id=sidebar-menu class='menu sidebar-menu' aria-label='Sidebar Menu'><div class=container><ul><li class=item><a href=/>Home</a></li><li class='item has-current'><a href=/posts/>Posts</a></li><li class=item><a href=/archive/>Archive</a></li></ul></div></nav></section><section class='widget widget-taxonomy_cloud sep-after'><header><h4 class='title widget-title'>Tags</h4></header><div class='container list-container'><ul class='list taxonomy-cloud no-shuffle'><li><a href=/tags/ai/ style=font-size:1em>ai</a></li><li><a href=/tags/android/ style=font-size:1em>android</a></li><li><a href=/tags/angularjs/ style=font-size:1.0952380952380953em>angularjs</a></li><li><a href=/tags/aws/ style=font-size:1.8571428571428572em>aws</a></li><li><a href=/tags/bash/ style=font-size:1em>bash</a></li><li><a href=/tags/celery/ style=font-size:1em>celery</a></li><li><a href=/tags/chrome/ style=font-size:1em>chrome</a></li><li><a href=/tags/cmd/ style=font-size:1em>cmd</a></li><li><a href=/tags/cors/ style=font-size:1em>cors</a></li><li><a href=/tags/cw-logs/ style=font-size:1.0476190476190477em>cw-logs</a></li><li><a href=/tags/disqus/ style=font-size:1em>disqus</a></li><li><a href=/tags/docker/ style=font-size:1.0476190476190477em>docker</a></li><li><a href=/tags/drone/ style=font-size:1em>drone</a></li><li><a href=/tags/dynamodb/ style=font-size:1.0952380952380953em>dynamodb</a></li><li><a href=/tags/eb/ style=font-size:1.1904761904761905em>eb</a></li><li><a href=/tags/ejs/ style=font-size:1em>ejs</a></li><li><a href=/tags/emr/ style=font-size:1.0476190476190477em>emr</a></li><li><a href=/tags/express.js/ style=font-size:1em>express.js</a></li><li><a href=/tags/fastapi/ style=font-size:1em>fastapi</a></li><li><a href=/tags/git/ style=font-size:2em>git</a></li><li><a href=/tags/google-colab/ style=font-size:1em>google-colab</a></li><li><a href=/tags/hive/ style=font-size:1em>hive</a></li><li><a href=/tags/jquery/ style=font-size:1.0952380952380953em>jquery</a></li><li><a href=/tags/js/ style=font-size:1.0952380952380953em>js</a></li><li><a href=/tags/json/ style=font-size:1em>json</a></li><li><a href=/tags/kbd/ style=font-size:1.1428571428571428em>kbd</a></li><li><a href=/tags/linux/ style=font-size:1em>linux</a></li><li><a href=/tags/mac/ style=font-size:1.0476190476190477em>mac</a></li><li><a href=/tags/mongodb/ style=font-size:1em>mongodb</a></li><li><a href=/tags/mysql/ style=font-size:1.0476190476190477em>mysql</a></li><li><a href=/tags/node.js/ style=font-size:1.1904761904761905em>node.js</a></li><li><a href=/tags/npm/ style=font-size:1em>npm</a></li><li><a href=/tags/oauth/ style=font-size:1em>oauth</a></li><li><a href=/tags/oop/ style=font-size:1em>oop</a></li><li><a href=/tags/php/ style=font-size:1.1428571428571428em>php</a></li><li><a href=/tags/postgresql/ style=font-size:1em>postgresql</a></li><li><a href=/tags/python/ style=font-size:1.0952380952380953em>python</a></li><li><a href=/tags/rds/ style=font-size:1.0476190476190477em>rds</a></li><li><a href=/tags/scaleway/ style=font-size:1em>scaleway</a></li><li><a href=/tags/selenium/ style=font-size:1.2857142857142856em>selenium</a></li><li><a href=/tags/ssh/ style=font-size:1em>ssh</a></li><li><a href=/tags/tmux/ style=font-size:1em>tmux</a></li><li><a href=/tags/tts/ style=font-size:1em>tts</a></li><li><a href=/tags/typing/ style=font-size:1.0476190476190477em>typing</a></li><li><a href=/tags/vim/ style=font-size:1.0476190476190477em>vim</a></li><li><a href=/tags/vr/ style=font-size:1em>vr</a></li><li><a href=/tags/vue/ style=font-size:1.0952380952380953em>vue</a></li><li><a href=/tags/web/ style=font-size:1em>web</a></li><li><a href=/tags/yii/ style=font-size:1.1428571428571428em>yii</a></li><li><a href=/tags/zeromq/ style=font-size:1em>zeromq</a></li></ul></div></section></div><div class=sidebar-overlay></div></div><div class=main><nav id=main-menu class='menu main-menu' aria-label='Main Menu'><div class=container><a class=screen-reader-text href=#content>Skip to Content</a>
<button id=sidebar-toggler class=sidebar-toggler aria-controls=sidebar>
<span class=screen-reader-text>Toggle Sidebar</span>
<span class=open><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></span><span class=close><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></span></button><ul><li class=item><a href=/>Home</a></li><li class='item current'><a aria-current=page href=/posts/>Posts</a></li><li class=item><a href=/archive/>Archive</a></li></ul></div></nav><div class=header-widgets><div class=container></div></div><header id=header class='header site-header'><div class='container sep-after'><div class=header-info><p class='site-title title'>vim, git, aws and other three-letter words</p><p class='desc site-desc'>Software Development Notes</p></div></div></header><main id=content><article lang=en class=entry><header class='header entry-header'><div class='container sep-after'><div class=header-info><h1 class=title>Local Amazon DynamoDB - tools, dump/restore and testing</h1></div><div class=entry-meta><span class=posted-on><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg><span class=screen-reader-text>Posted on</span>
<time class=entry-date datetime=2015-01-25T00:00:00Z>2015, Jan 25</time></span>
<span class=reading-time><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 15 15"/></svg>3 mins read</span></div></div></header><div class="container entry-content custom"><h3 id=setup>Setup</h3><p><a href=http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Tools.DynamoDBLocal.html>Download</a> and extract dynamodb local to some folder.</p><p>Launch it (-sharedDb allows us to connect to the same database with other tools):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    $ java -Djava.library.path<span style=color:#f92672>=</span>./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb
</span></span></code></pre></div><p>By default it will be running on the port 8000 and will create the db file in the same directory where it was launched.</p><p>Without the <code>-sharedDB</code> parameter the DB file name depends on connection parameters, the name is <code>{aws_access_key_id}_{region_name}.db</code>.
So different clients can use different databases.</p><p>There is also an <code>-inMemory</code> parameter to keep data in memory:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>    $ java -Djava.library.path<span style=color:#f92672>=</span>./DynamoDBLocal_lib -jar DynamoDBLocal.jar -inMemory -sharedDb
</span></span></code></pre></div><h3 id=how-to-load-test-data-and-dumprestore-the-data>How to load test data and dump/restore the data</h3><p>The easiest way is to create some script to generate the test data.
This way it is possible to run DynamoDB local in memory and populate it with test data after launch.
Another way is to dump real db data and restore it into local DB. Here are some related tools to help with this and similar tasks:</p><ul><li><a href=https://github.com/bchew/dynamodump>dynamodump - Simple backup and restore for Amazon DynamoDB using boto</a></li><li><a href=https://github.com/adamchainz/dynamodb_utils>dynamodb_utils - A toolchain for Amazon&rsquo;s DynamoDB to make common operations (backup, restore backups) easier</a></li><li><a href=https://github.com/edasque/DynamoDBtoCSV>DynamoDBtoCSV - Dump DynamoDB data into a CSV file</a> and <a href=http://www.frenchguys.com/wordpress/exporting-dynamodb-data-to-csv/>related blog post</a></li><li><a href=https://github.com/yegor256/dynamo-archive>dynamo-archive - Archive and Restore DynamoDB Tables</a></li><li><a href=https://github.com/JasonGhent/AWS-DynamoDB-to-MongoDB>AWS DynamoDB to MongoDB Conversion</a></li></ul><h3 id=dynamodb-local-web-shell>DynamoDb local web shell</h3><p>DynamoDB local also has a web shell available via http://localhost:8000/shell.
Make sure you launched the database with a <code>-sharedDb</code> flag.</p><p>Without the <code>-sharedDb</code> it will use <code>{access_key}_us-west-2.db</code> file.
Access key can be set in shell settings, but the region name is hard-coded as <code>us-west-2</code> (see source in chrome dev tools, /shell/jsrepl/sandbox.js file).</p><h3 id=aws-explorer>AWS Explorer</h3><p><a href=http://docs.aws.amazon.com/AWSToolkitEclipse/latest/GettingStartedGuide/Welcome.html>AWS Explorer</a> is a toolkit for eclipse which contains the DynamoDb GUI.</p><p>Install it as described <a href=http://docs.aws.amazon.com/AWSToolkitEclipse/latest/GettingStartedGuide/tke_setup_install.html>here</a>.</p><p>To browse an application database start the DynamoDb local with the <code>-sharedDb</code> flag and select &rsquo;local&rsquo; region in the AWS regions dropdown.</p><p>Without the <code>-sharedDb</code> Eclipse will use a file like <code>AKXAX4X6XAFXIXNIXEXA_local.db</code>.</p><h3 id=table-prefixes>Table prefixes</h3><p>DynamoDB has a single namespace for all tables, so it is better to use table prefixes for different environments and/or different applications.</p><h3 id=dynamodb-mocks-and-testing>DynamoDB mocks and testing</h3><p>While the tools mentioned above are good to examine the data generated by your application the simplest way to verify your code is to build a set of unit tests.</p><p>DynamoDB Local is too slow for unit tests and it is better to use some other dynamo mock. In my current project I use a custom mock which is a simplified boto API implementation. Try to search for some native implementation of the dynamo API in your project language which will hold all the data in memory.</p><p>Also, it&rsquo;s a good idea to make DB access configurable for tests so it will be easy to switch tests between mock / local db / real db.</p><p>DynamoDB Mocks:</p><ul><li><a href=http://aws.amazon.com/blogs/aws/amazon-dynamodb-libraries-mappers-and-mock-implementations-galore/>Amazon DynamoDB Libraries, Mappers, and Mock Implementations Galore!</a></li><li><a href=https://pypi.python.org/pypi/ddbmock>ddbmock - Amazon DynamoDB mock implementation (python)</a> and a <a href=https://bitbucket.org/Ludia/dynamodb-mock/overview>bitbucket repository</a></li><li><a href=https://github.com/mhart/dynalite>dynalite - A mock implementation of Amazon&rsquo;s DynamoDB built on LevelDB</a></li></ul><a href=https://stackexchange.com/users/261528><img src="https://stackexchange.com/users/flair/261528.png?theme=clean" width=208 height=58 alt="profile for Boris Serebrov on Stack Exchange, a network of free, community-driven Q&amp;A sites" title="profile for Boris Serebrov on Stack Exchange, a network of free, community-driven Q&amp;A sites"></a></div><div class=popup><div class=close>close</div><div class=download><a href target=_blank>Download (<span class=name></span>)</a></div><div class=popup-content></div></div><footer class=entry-footer><div class='container sep-before'><div class=tags><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2H12l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=screen-reader-text>Tags: </span><a class=tag href=/tags/aws/>aws</a>, <a class=tag href=/tags/dynamodb/>dynamodb</a></div></div></footer></article><nav class=entry-nav><div class=container><div class='prev-entry sep-before'><a href=/html/2014-01-04-git-revert-multiple-recent-comments.html><span aria-hidden=true><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="20" y1="12" x2="4" y2="12"/><polyline points="10 18 4 12 10 6"/></svg>Previous</span>
<span class=screen-reader-text>Previous post: </span>git - how to revert multiple recent commits</a></div><div class='next-entry sep-before'><a href=/html/2015-04-02-elastic-beanstalk-python.html><span class=screen-reader-text>Next post: </span>Elastic Beanstalk - python application server structure and celery installation<span aria-hidden=true>Next<svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="4" y1="12" x2="20" y2="12"/><polyline points="14 6 20 12 14 18"/></svg></span></a></div></div></nav><section id=comments class=comments><div class='container sep-before'><div class=comments-area><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url="http://serebrov.github.io/html/2015-02-01-dynamodb-local.html"};(function(){var e=document,t=e.createElement("script");t.src="https://serebrov.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the
<a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></div></section></main><footer id=footer class=footer><div class='container sep-before'><section class='widget widget-social_menu sep-after'><nav aria-label='Social Menu'><ul><li><a href=https://github.com/serebrov target=_blank rel=noopener><span class=screen-reader-text>Open Github account in new tab</span><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li><a href=mailto:serebrov@gmail.com target=_blank rel=noopener><span class=screen-reader-text>Contact via Email</span><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></li></ul></nav></section><div class=copyright><p>&copy; 2020-2025 Boris Serebrov</p></div></div></footer></div></div><script>window.__assets_js_src="/assets/js/"</script><script src=https://serebrov.github.io/assets/js/main.67d669ac.js></script><script src=/js/jquery.min.js></script><script src=/js/custom.js></script></body></html>