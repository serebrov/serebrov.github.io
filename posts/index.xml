<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on vim, git, aws and other three-letter words</title><link>https://serebrov.github.io/posts/</link><description>Recent content in Posts on vim, git, aws and other three-letter words</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 13 Sep 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://serebrov.github.io/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>git - cherry-pick a range of commits</title><link>https://serebrov.github.io/html/2021-09-13-git-cherry-pick-a-range-of-commits.html</link><pubDate>Mon, 13 Sep 2021 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2021-09-13-git-cherry-pick-a-range-of-commits.html</guid><description>To cherry pick a range of commits to another branch, we can use the START^..END commit range syntax, where START is the first commit in the range and END is the last commit:
git cherry-pick START^..END References How to cherry-pick a range of commits and merge them into another branch?</description></item><item><title>git - how to move files with history to another repository</title><link>https://serebrov.github.io/html/2021-09-13-git-move-history-to-another-repository.html</link><pubDate>Mon, 13 Sep 2021 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2021-09-13-git-move-history-to-another-repository.html</guid><description>Git allows joining unrelated repositories via remotes which, in turn, allows moving files and change history between them.
Some cases when this might be needed:
Extract part of a big repository into a separate repository, preserving change history Splitting big repository to a set of smaller repositories Merge smaller repository into a bigger one (merge in library from the external repository) Preserving the history has an important effect: after we do the change, for example, extract a part of a bigger repository into a separate repository, we can continue moving changes between them (merge updates from the big repository to the small one and back).</description></item><item><title>git - show number of commits by author</title><link>https://serebrov.github.io/html/2021-09-13-git-number-of-commits-by-author.html</link><pubDate>Mon, 13 Sep 2021 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2021-09-13-git-number-of-commits-by-author.html</guid><description>The shortlog -ns will show number of commits by author:
git shortlog -ns 280 Author One 46 Author Two 25 authorthree 14 au 4 x 3 Autor One 1 ide user x</description></item><item><title>git - update commit message</title><link>https://serebrov.github.io/html/2021-09-13-git-update-commit-message.html</link><pubDate>Mon, 13 Sep 2021 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2021-09-13-git-update-commit-message.html</guid><description>Simple: Change Last Commit Message To change the last commit message, use commit with --amend flag:
Careful: `commit --amend` will rewirte history, do not use on public branches. $ git commit --amend It will open an editor and change the commit message, changes will be applied after saving the file and closing the editor.
Advanced: Change Any Commit Message or Multiple Commit Messages Besides other things, interactive rebase allows editing commit messages:</description></item><item><title>Mitosis Keyboard First Impressions</title><link>https://serebrov.github.io/html/2020-11-22-mitosis-keyboard-first-impressions.html</link><pubDate>Sat, 21 Nov 2020 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2020-11-22-mitosis-keyboard-first-impressions.html</guid><description>Mitosis Keyboard First Impressions
I&amp;rsquo;ve received my Mitosis a few days ago and I like it a lot so far:
The size: perfect for the 36 keys layout I use The shape: very comfortable, lowered outer columns feel great for pinkies I wished the inner column, for the index finger would not be shifted up as it is, it causes a bit of extension to use Y and T (not a big deal though) I also think the bottom thumb row is too far, so I am using the top row, having the bottom one without keycaps, so it doesn&amp;rsquo;t get in a way Wireless: probably this was one of main reasons to get it, it is really nice to freely move both halves without having to care about wires An interesting decision here is to use the radio channel instead of bluetooth which gives much longer battery lifetime It requires a receiver to be connected to the computer, but that is not a big deal, also it is cool to realize that your keyboard (QMK) is actually running inside that small board Layout: not sure which layout was there initially, it was QWERTY while the default layout in QMK configuratior is Maltron (I think), anyway, I changed it to my layout, similar to what I have on Moonlander Open source: here is the announcement post, hardware, receiver firmware and keyboard firmware, QMK How it looks:</description></item><item><title>Oculus Quest for Work: First Impressions</title><link>https://serebrov.github.io/html/2020-05-03-oculus-quest-for-work.html</link><pubDate>Sat, 15 Aug 2020 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2020-05-03-oculus-quest-for-work.html</guid><description>After reading this, this and this and this, I&amp;rsquo;ve got Oculus Quest willing to try it for work. I am a software developer and spend 8-10 hours per day before the laptop. My main machine at the moment is Mac Book Pro, I also own Thinkpad with Linux.
This way, in terms of software, ImmersedVR seems to be the only contender and only compatible headsets are Oculus Go and Oculus Quest.</description></item><item><title>Vue.js Cli: How to Use Multiple vue.config.js Configs</title><link>https://serebrov.github.io/html/2020-05-03-vue-cli-multiple-configs.html</link><pubDate>Sat, 02 May 2020 21:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2020-05-03-vue-cli-multiple-configs.html</guid><description>It can be useful to have more than one configuration file, for example, to build several code bundles.
The config file to use can be set with VUE_CLI_SERVICE_CONFIG_PATH environment variable:
# Build using vue.config.public.js CONF=`realpath vue.config.public.js` VUE_CLI_SERVICE_CONFIG_PATH=$CONF npm run build -- --mode production # build using vue.config.js npm run build -- --mode production Where npm run build is defined in package.json as vue-cli-service build.
It is also possible to create several bundles using vue cli multi-page mode, but in this case we will have big common js and css &amp;ldquo;vendors&amp;rdquo; package.</description></item><item><title>Touch Typing Tutors and Games</title><link>https://serebrov.github.io/html/2020-01-21-touch-typing.html</link><pubDate>Tue, 21 Jan 2020 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2020-01-21-touch-typing.html</guid><description>A collection of links to touch typing tutors and games.
Online Typing Tutors keybr.com - Typing practice, supports Qwerty, Dvorak, Colemak and Workman layouts keyhero.com - Typing test and lessons speedcoder.net - Online Typing Practice for Programmers The Typing Cat - Free online keyboard typing tutor TypingClub - Learn Touch Typing Free typing.io - Typing Practice for Programmers monkeytype.com - a minimalistic, customizable typing test, featuring many test modes, open source Ratatype — Online typing tutor and typing lessons Typing Scout - Faster typing means more spare time :) Solotyping - Touch Typing Course | Online Typing Test | Learn to Type Faster 10FastFingers.</description></item><item><title>AWS Config - Unexpected Charges and Data Analysis</title><link>https://serebrov.github.io/html/2019-10-08-aws-config-charges.html</link><pubDate>Tue, 08 Oct 2019 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2019-10-08-aws-config-charges.html</guid><description>I started seeing an increased charge in billing for AWS Config service in one of the accounts, it increased from around $5 to $100 per month. And I didn&amp;rsquo;t even remember if I enabled and configured it.
I could not get any details from AWS Cost Explorer besides that charges are in the same region where our app is running.
The confusing part was a note in the AWS Config management console:</description></item><item><title>Git Hook to Add Issue Number to Commit Message</title><link>https://serebrov.github.io/html/2019-06-16-git-hook-to-add-issue-number-to-commit-message.html</link><pubDate>Sun, 16 Jun 2019 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2019-06-16-git-hook-to-add-issue-number-to-commit-message.html</guid><description>When using project management system (Jira, Redmine, Github issues, etc) it is useful to add the issue number into commit message that makes is easier to understand which issue the commit belongs to and often allows the project management system to display related commits.
For same reasons, it is also useful to include the issue number into branch name, such as 123-branch-description or feature/PROJECT-123-branch-description.
The process of adding the issue number into commit message can be automated with git prepare-commit-msg hook (shell script).</description></item><item><title>Multi-Origin CloudFront Setup to Route Requests to Services Based on Request Path</title><link>https://serebrov.github.io/html/2019-06-16-multi-origin-cloudfront-setup.html</link><pubDate>Sun, 16 Jun 2019 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2019-06-16-multi-origin-cloudfront-setup.html</guid><description>AWS CloudFront allows to have multiple origins for the distribution and, along with lambda@edge functions, that makes it possible to use CloudFront as an entry point to route the requests to different services based on the request path.
For example:
www.myapp.com -&amp;gt; unbounce.com (landing pages) www.myapp.com/app -&amp;gt; single page app hosted on S3 www.myapp.com/blog -&amp;gt; wordpress blog CloudFront Setup Structure CloudFront distribution is an entry point which we assign a root domain name (www.</description></item><item><title>Managing NPM packages on github</title><link>https://serebrov.github.io/html/2019-02-16-manage-npm-packages-on-github.html</link><pubDate>Sat, 16 Feb 2019 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2019-02-16-manage-npm-packages-on-github.html</guid><description>Sometimes it is simpler to keep the package on github, for example, if you have a fork of a published package with some private changes. So you can avoid cluttering npm registry with similar packages, creating confusing for other people.
NPM supports installing dependencies from github, but it is also good to have versioning for your package so you can use it exactly as other packages, develop it independently and upgrade the dependency for the main project in a controlled way.</description></item><item><title>Recording Linux Terminal Session to GIF with asciinema</title><link>https://serebrov.github.io/html/2018-11-29-linux-terminal-screencast.html</link><pubDate>Thu, 29 Nov 2018 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2018-11-29-linux-terminal-screencast.html</guid><description>The asciinema is a good and simple to use tool to record a screencast from the terminal session.
And asciicast2gif allows to convert the recording to gif animation.
virtualenv -p python3 venv source venv/bin/activate pip install asciinema $ asciinema asciinema: recording asciicast to demo.cast asciinema: press &amp;lt;ctrl-d&amp;gt; or type &amp;#34;exit&amp;#34; when you&amp;#39;re done ... $ &amp;lt;ctrl-d&amp;gt; asciinema: recording finished asciinema: asciicast saved to demo.cast And convert it to gif:
docker run --rm -v $PWD:/data asciinema/asciicast2gif -t solarized-dark demo.</description></item><item><title>Debugging Python With ipdb and pdbpp</title><link>https://serebrov.github.io/html/2018-11-28-python-debugging-with-ipdb-pdbpp.html</link><pubDate>Wed, 28 Nov 2018 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2018-11-28-python-debugging-with-ipdb-pdbpp.html</guid><description>To get a very convenient full-screen console debugger for python, install ipdb and pdbpp packages.
Then use __import__('ipdb').set_trace() to start the debugger and enter sticky to switch to the full-screen mode.
Both packages can be installed with pip:
virtualenv -p python3 venv source venv/bin/activate pip install ipdb pip install pdbpp The ipdb package improves the standard (pdb) debugger by adding syntax highlight and code completion. And the pdbpp adds the &amp;ldquo;sticky&amp;rdquo; mode, so the debugger can be run in a full-screen mode, in terminal:</description></item><item><title>Formatting Parameter Blocks in Python</title><link>https://serebrov.github.io/html/2018-07-27-python-parameter-blocks-formatting.html</link><pubDate>Fri, 27 Jul 2018 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2018-07-27-python-parameter-blocks-formatting.html</guid><description>There are two ways recommended in pep-8 to format the blocks with long parameter lists in Python:
# Arguments start on the next line foo = long_function_name( var_one, var_two, var_three, var_four) Another way is:
# Arguments start on the same line foo = long_function_name(var_one, var_two, var_three, var_four) I always prefer the first option and the other one is problematic for a few reasons.
For example, if you have two blocks with such indentation, the indent will be jumping:</description></item><item><title>Disqus - code formatting and highlighting in comments</title><link>https://serebrov.github.io/html/2018-01-19-disqus-code-in-comments.html</link><pubDate>Fri, 19 Jan 2018 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2018-01-19-disqus-code-in-comments.html</guid><description>It is possible to format and have syntax highlighting for code in Disqus comments. To do that, wrap the code into &amp;lt;pre&amp;gt;&amp;lt;code&amp;gt; tags (see the example comment to this post).
I didn&amp;rsquo;t know about this feature and, acutally, I think this is an UI flaw.
It would be great to see the formatting help link or popup when you are editing the comment (and also the preview feature would be really nice to have).</description></item><item><title>There Is No Callback Hell In JavaScript</title><link>https://serebrov.github.io/html/2018-01-19-there-is-no-callback-hell.html</link><pubDate>Fri, 19 Jan 2018 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2018-01-19-there-is-no-callback-hell.html</guid><description>There is no &amp;ldquo;callback hell&amp;rdquo; in Javascript, it is just a bad programming style. The infamous JavaScript &amp;ldquo;callback hell&amp;rdquo; can easily be fixed by un-nesting all the callbacks into separate functions.
Here is an example:
const verifyUser = function(username, password, callback) { dataBase.verifyUser(username, password, function(error, userInfo) { if (error) { callback(error); } else { dataBase.getRoles(username, function(error, roles) { if (error) { callback(error); } else { dataBase.logAccess(username, function(error) { if (error) { callback(error); } else { callback(null, userInfo, roles); } }) } }) } }) }; The same code with separate functions instead of inline callbacks:</description></item><item><title>SSH Tunnels (How to Access AWS RDS Locally Without Exposing it to Internet)</title><link>https://serebrov.github.io/html/2018-01-11-aws-ec2-ssh-tunnel.html</link><pubDate>Thu, 11 Jan 2018 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2018-01-11-aws-ec2-ssh-tunnel.html</guid><description>Using SSH tunnels, it is possible to access remote resources that are not exposed to the Internet through the intermediate hosts or expose your local services to the Internet.
Setup To make SSH commands shorter and easier to use, edit the ~/.ssh/config and add the configuration for the hosts you are going to connect.
The configuration defines default ssh options, so instead of the command like this ssh ec2-user@ec2-55-222-55-55.compute-1.amazonaws.com -i ~/.</description></item><item><title>AWS error - Default subnet in us-east-1f not found</title><link>https://serebrov.github.io/html/2017-06-28-aws-default-subnet-in-us-east-1f-not-found.html</link><pubDate>Thu, 29 Jun 2017 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2017-06-28-aws-default-subnet-in-us-east-1f-not-found.html</guid><description>I suddenly started getting the Default subnet in us-east-1f not found error during the ElasticBeanstalk environment update.
Failed to deploy application. Updating load balancer named: awseb-e-t-AWSEBLoa-XXXXXXXXXXXXX failed Reason: Default subnet not found in us-east-1f Service:AmazonCloudFormation, Message:Stack named &amp;#39;awseb-e-xxxxxxxxxx-stack&amp;#39; aborted operation. Current state: &amp;#39;UPDATE_ROLLBACK_IN_PROGRESS&amp;#39; Reason: The following resource(s) failed to create: [AWSEBUpdateWaitConditionHandleralanC]. The following resource(s) failed to update: [AWSEBLoadBalancer]. And the similar one when trying to create the new environment:
Creating load balancer failed Reason: Default subnet in us-east-1f not found Created CloudWatch alarm named: awseb-e-tet63me2mx-stack-AWSEBCWLAllErrorsCountAlarm-3XCPMJ1ZGJ18 Stack named &amp;#39;awseb-e-tet63me2mx-stack&amp;#39; aborted operation.</description></item><item><title>Simple Git Workflow</title><link>https://serebrov.github.io/html/2016-07-03-simple-git-workflow.html</link><pubDate>Sun, 03 Jul 2016 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2016-07-03-simple-git-workflow.html</guid><description>The main purpose of this workflow is to have a reliable, but simple to use git workflow. It is simple enough to be used by git beginners and minimizes possibility of mistakes (comparing to advanced flows which use rebase and related git features to achieve clean history).
The main idea of this workflow is that we create a new branch for every task and one developer works on this branch until the task is finished.</description></item><item><title>Setup Automatic Deployment, Updates and Backups of Multiple Web Applications with Docker on the Scaleway Server</title><link>https://serebrov.github.io/html/2016-06-10-scaleway-docker-deployment.html</link><pubDate>Fri, 10 Jun 2016 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2016-06-10-scaleway-docker-deployment.html</guid><description>The purpose of this setup is:
Setup multiple web apps with different dependencies on the same server Link all apps to the same MySQL server Manage uploaded files for web apps in the single place (so it is easy to backup them) Automatically deploy and update apps on the remote server Run the same setup locally, so development environment is very close to production Setup backups for MySQL databases and for uploaded files In this case I deploy to Scaleway, but same approach can be used for almost any cloud service.</description></item><item><title>OOP SOLID Principles "L" - Liskov Substitution Principle</title><link>https://serebrov.github.io/html/2016-02-18-oop-solid-l-liskov-substitution-principle.md</link><pubDate>Thu, 18 Feb 2016 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2016-02-18-oop-solid-l-liskov-substitution-principle.md</guid><description>According to the Wikipedia the Liskov Substitution Principle (LSP) is defined as:
Subtype Requirement: Let f(x) be a property provable about objects x of type T. Then f(y) should be true for objects y of type S where S is a subtype of T. The basic idea - if you have an object of type T then you can also use objects of its subclasses instead of it.
Or, in other words: the subclass should behave the same way as the base class.</description></item><item><title>AWS PostgreSQL RDS - remaining connection slots are reserved error</title><link>https://serebrov.github.io/html/2015-09-22-aws-postgresql-max-connections.html</link><pubDate>Tue, 22 Sep 2015 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2015-09-22-aws-postgresql-max-connections.html</guid><description>Today I had a problem with PostgreSQL connection, both my application and psql tool returned an error:
FATAL: remaining connection slots are reserved for non-replication superuser connections The PostgreSQL server was running on the db.t1.micro RDS instance and the &amp;lsquo;Current activity&amp;rsquo; column showed &amp;lsquo;22 connections&amp;rsquo; and a red line which should represent a connection limit was far away from the 22 value.
Here is how it looked:
.
And this connection information is actually misleading - it shows 22 connections and it looks like around 30% consumed.</description></item><item><title>How to set up Drone CI on EC2 instance via Elastic Beanstalk</title><link>https://serebrov.github.io/html/2015-07-05-elastic-beanstalk-drone-ci-setup.html</link><pubDate>Sun, 05 Jul 2015 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2015-07-05-elastic-beanstalk-drone-ci-setup.html</guid><description>Drone CI is a Continuous Integration platform. It uses Docker containers to run tests for your application hosted on github.
It not complex to set up the automatic testing for your application and run Drone CI on EC2 instance using Elastic Beanstalk. It is even not necessary to have a dedicated EC2 instance for CI system, for example, I run it on the staging server.
Drone CI setup First you&amp;rsquo;ll need to create a drone configuration file, .</description></item><item><title>Elastic Beanstalk - how to setup CloudWatch Logs</title><link>https://serebrov.github.io/html/2015-05-20-cloudwatch-setup.html</link><pubDate>Wed, 20 May 2015 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2015-05-20-cloudwatch-setup.html</guid><description>CloudWatch Logs is an AWS service to collect and monitor system and application logs. On the top level setup is this:
install CloudWatch agent to collect logs data and send to CloudWatch Logs service define log metric filters to extract useful data, like number of all errors or information about some specific events create alarms for metrics to get notifications about logs make sure that the instance role has permissions to push logs to CloudWatch (see comments for details about this issue) All the configuration can be done using the Elastic Beanstalk config.</description></item><item><title>Elastic Beanstalk - python application server structure and celery installation</title><link>https://serebrov.github.io/html/2015-04-02-elastic-beanstalk-python.html</link><pubDate>Thu, 02 Apr 2015 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2015-04-02-elastic-beanstalk-python.html</guid><description>Elastic beanstalk python application is deployed under /opt/python/. The application is running under Apache web server.
Source folder structure is this:
bin httpdlaunch - a tool script to set environment variables and launch httpd bundle - dir with app source code, used during updates current - symlink to the recent source code version under bundle app - application sources env - shell script with environment variables (passed from EB environment settings) etc - supervisord config log - supervisord logs run - virtual environments Apache logs, deployment logs and system messages log are under /var/log.</description></item><item><title>Local Amazon DynamoDB - tools, dump/restore and testing</title><link>https://serebrov.github.io/html/2015-02-01-dynamodb-local.html</link><pubDate>Sun, 25 Jan 2015 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2015-02-01-dynamodb-local.html</guid><description>Setup Download and extract dynamodb local to some folder.
Launch it (-sharedDb allows us to connect to the same database with other tools):
$ java -Djava.library.path=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb By default it will be running on the port 8000 and will create the db file in the same directory where it was launched.
Without the -sharedDB parameter the DB file name depends on connection parameters, the name is {aws_access_key_id}_{region_name}.db. So different clients can use different databases.</description></item><item><title>git - how to revert multiple recent commits</title><link>https://serebrov.github.io/html/2014-01-04-git-revert-multiple-recent-comments.html</link><pubDate>Sat, 04 Jan 2014 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2014-01-04-git-revert-multiple-recent-comments.html</guid><description>Let&amp;rsquo;s assume we have a history like this:
G1 - G2 - G3 - B1 - B2 - B3 Where G1-G3 are &amp;lsquo;good&amp;rsquo; commits and B1-B3 are &amp;lsquo;bad&amp;rsquo; commits and we want to revert them.
Here is the shell script to create the revision history like above, you can use it to try and see the effect of different commands.
git reset The first method is a simple way to throw away few recent commits.</description></item><item><title>How to keep `git log` and `git diff` output on the screen after exit</title><link>https://serebrov.github.io/html/2014-01-04-git-log-and-less-keep-output.html</link><pubDate>Sat, 04 Jan 2014 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2014-01-04-git-log-and-less-keep-output.html</guid><description>When git uses less as pager the output of commands like git log disappears from the console screen when you exit from less.
This is not convenient in many cases so here is how to fix this.
Just for git commands:
git config --global --replace-all core.pager &amp;#34;less -iXFR&amp;#34; For less command, globally (including git) - add to your shell profile (.bashrc, .zshrc, etc):
export LESS=-iXFR Options we set for less:</description></item><item><title>Node.js - how to debug mocha test with node inspector</title><link>https://serebrov.github.io/html/2013-12-02-node-debug-mocha.html</link><pubDate>Mon, 02 Dec 2013 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2013-12-02-node-debug-mocha.html</guid><description>To debug mocha test with node inspector use the delay before test:
beforeEach(function(done) { //start mocha as //mocha -t 10000 --debug setTimeout(function() { done(); }, 5000); }); This way there are 5 seconds to start the node inspector and set a breakpoint. Mocha should be lauched as this:
$ mocha -t 10000 --debug Same approach can be used not only for tests but for any short-living node app - just wrap the startup code into the setTimeout() call.</description></item><item><title>Node.js - how to get core module source</title><link>https://serebrov.github.io/html/2013-12-02-node-core-module-source.html</link><pubDate>Mon, 02 Dec 2013 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2013-12-02-node-core-module-source.html</guid><description>It is possible to ask node to show its core module source.
For example, we want to check the source of the readFileSunc() method:
$ node &amp;gt; fs = require('fs'); &amp;gt; fs.writeFileSync('fs.js', fs.toString()) &amp;gt; fs.writeFileSync('fs.readFileSync.js', fs.readFileSync.toString()) [Ctrl-C][Ctrl-C] Now check the fs.readFileSync.js file in the current folder.
Also on some systems source code of core node modules is in the /usr/lib/nodejs/.
And another (less interesting) way to get core module source - is to look for it in the node github repository:</description></item><item><title>Elastic Beanstalk - cron command and RDS DB access</title><link>https://serebrov.github.io/html/2013-10-22-elastic-beanstalk-cron-and-db.html</link><pubDate>Tue, 22 Oct 2013 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2013-10-22-elastic-beanstalk-cron-and-db.html</guid><description>Problem I have a console command in php which needs an access to DB. The command need to be launched via cron.
The DB connection string looks like like this
'connectionString' =&amp;gt; 'mysql:host='.$_SERVER['RDS_HOSTNAME'].';port='.$_SERVER['RDS_PORT'].';dbname='.$_SERVER['RDS_DB_NAME'], where RDS_xxx parameters come from environment variables.
The problem is that cron launches the command with a clean environment (there are no RDS_xx variables). So the command fails to access the database.
Solution Solution is to set the required environment variables before launching the command and this can be done with &amp;lsquo;/opt/elasticbeanstal/support/envvars&amp;rsquo; script:</description></item><item><title>Elastic Beanstalk - deploy from different machines / by different users (or how to get rid of absolute paths in configs)</title><link>https://serebrov.github.io/html/2013-09-11-elastic-beanstalk-configs.html</link><pubDate>Wed, 11 Sep 2013 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2013-09-11-elastic-beanstalk-configs.html</guid><description>By default Elastic Beanstalk console tool (eb) adds config files to .gitignore. If there are manual changes to EB configs it can be complex to manually sync these changes between different machines / different users. Of cause it is possible to add config files to git repository but there are also several parameters in the main config which are absolute paths to local files. This way it makes configs not useful for other users (except for the case when different users have exactly the same files layout).</description></item><item><title>How to setup git server on ubuntu with push email notifications</title><link>https://serebrov.github.io/html/2013-06-14-git-server-setup.html</link><pubDate>Fri, 14 Jun 2013 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2013-06-14-git-server-setup.html</guid><description>Git Server Prerequisites are git and ssh-server (apt-get install openssh-server).
The installation process is described in the Pro Git book. Below is the setup process with some comments and updates.
Add git user, set some password (you will be asked for it):
$ sudo adduser git Log in as git user and setup authorized ssh keys:
$ su git git@localname$ cd ~ git@localname$ mkdir .ssh For each user who need an access to the server add user&amp;rsquo;s public key into ~/.</description></item><item><title>JS libraties for charts (links)</title><link>https://serebrov.github.io/html/2013-06-14-js-libraries-for-charts.html</link><pubDate>Fri, 14 Jun 2013 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2013-06-14-js-libraries-for-charts.html</guid><description>D3.js D3.js is a JavaScript library for manipulating documents based on data. D3 helps you bring data to life using HTML, SVG and CSS. D3’s emphasis on web standards gives you the full capabilities of modern browsers without tying yourself to a proprietary framework, combining powerful visualization components and a data-driven approach to DOM manipulation.
Browser support: IE9+, For IE8 compatibility it is recommended to use Aight. See also tutorials and re-usable charts for d3.</description></item><item><title>Angular.js and SEO - pre-render content on the server</title><link>https://serebrov.github.io/html/2013-05-24-angular-seo.html</link><pubDate>Fri, 24 May 2013 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2013-05-24-angular-seo.html</guid><description>With angular.js you have an HTML which looks like this:
&amp;lt;span&amp;gt;{{variableValue}}&amp;lt;/span&amp;gt; &amp;lt;ul&amp;gt; &amp;lt;li ng-repeat=&amp;#34;item in items&amp;#34; ng-bind=&amp;#34;item.name&amp;#34;&amp;gt;&amp;lt;/li&amp;gt; &amp;lt;/ul&amp;gt; The simple way to make this content SEO-friendly is to pre-render data on the server and then allow angular to do it&amp;rsquo;s job on the client.
For simple variables there is ng-bind. And for lists there is ng-include. Here is the example from above with pre-rendered content:
&amp;lt;span ng-bind=&amp;#34;variableValue&amp;#34;&amp;gt;Static indexed value&amp;lt;/span&amp;gt; &amp;lt;ul ng-include=&amp;#34;&amp;#39;your/dynamic/list&amp;#39;&amp;#34;&amp;gt; &amp;lt;li&amp;gt;seo-friendly item1&amp;lt;/li&amp;gt; &amp;lt;li&amp;gt;seo-friendly item2&amp;lt;/li&amp;gt; &amp;lt;/ul&amp;gt; &amp;lt;script type=&amp;#34;text/ng-template&amp;#34; id=&amp;#34;your/dynamic/list&amp;#34;&amp;gt; &amp;lt;li ng-repeat=&amp;#34;item in items&amp;#34; ng-bind=&amp;#34;item.</description></item><item><title>git - find not merged branches</title><link>https://serebrov.github.io/html/2012-10-01-git-find-not-merged-branches.html</link><pubDate>Mon, 01 Oct 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-10-01-git-find-not-merged-branches.html</guid><description>Branches that were not merged with master:
git branch -a --no-merged (or git branch -a --no-merged master) Branches that were merged with feature:
git branch -a --merged feature Branches that were merged not with feature:
git branch -a --no-merged feature Reference The git-branch(1) command:
with --contains flag shows only the branches that contain the named commit (in other words, the branches whose tip commits are descendants of the named commit). with --merged shows only branches merged into the named commit (i.</description></item><item><title>git - viewing changes - diff and log</title><link>https://serebrov.github.io/html/2012-10-01-git-diff-and-log.html</link><pubDate>Mon, 01 Oct 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-10-01-git-diff-and-log.html</guid><description>Diff and log between two branches (all changes on both branches) To see all changes between two branches, use diff with two or three dots and log with three dots between branch names.
Note: the confusing part is that log with two dots only shows changes on one branch, while diff with two dots includes changes on both branches (showing changes from one branch as removed and from another branch - as added).</description></item><item><title>git - find all branches where file was changed</title><link>https://serebrov.github.io/html/2012-09-30-git-all-branches-with-file.html</link><pubDate>Sun, 30 Sep 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-09-30-git-all-branches-with-file.html</guid><description>Solution from stackoverflow.
Find all branches which contain a change to FILENAME (even if before the (non-recorded) branch point):
git log --all --format=%H FILENAME | while read f; do git branch --contains $f; done | sort -u Manually inspect:
gitk --all --date-order -- FILENAME Find all changes to FILENAME not merged to master:
git for-each-ref --format=&amp;#34;%(refname:short)&amp;#34; refs/heads | grep -v master | while read br; do git cherry master $br | while read x h; do if [ &amp;#34;`git log -n 1 --format=%H $h -- FILENAME`&amp;#34; = &amp;#34;$h&amp;#34; ]; then echo $br; fi; done; done | sort -u</description></item><item><title>git - Your branch is ahead of 'origin/master' by 1 commit after pull</title><link>https://serebrov.github.io/html/2012-09-30-git-branch-ahead-after-pull.html</link><pubDate>Sun, 30 Sep 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-09-30-git-branch-ahead-after-pull.html</guid><description>Your branch is ahead of &amp;lsquo;origin/master&amp;rsquo; by 1 commit (or X commits) after git pull origin master.
The sequence:
Have up-to-date repository There is a change in the origin/master Do git pull origin master Change is received and merged git status shows “Your branch is ahead of &amp;lsquo;origin/master&amp;rsquo; by 1 commit.” The reason is because during pull origin master reference to the remote origin/master is not changed (still points to older version).</description></item><item><title>git - submodule helpers</title><link>https://serebrov.github.io/html/2012-06-15-android-mobile-network-problem.html</link><pubDate>Sun, 23 Sep 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-06-15-android-mobile-network-problem.html</guid><description>Below are some git commands which can be useful to resolve problems with submodules.
Get a list of commits inside a submodule Submodules are identified by SHA-1 hashes so you may need to get a list of them. Do the following inside the submodule folder (or inside the separate submodule repository):
git log --oneline 5bd722f commit 5 b5c1524 commit 4 2444bfa commit 3 e0eadd5 commit 2 c180c5a commit 1 702fc8a commit 0 View current submodule commit git submodule status 5bd722fa26dcdd64128392aa28e08849fe37f111 sub (heads/master) Compare a submodule state with another branch Assume we are on the &amp;ldquo;branch1&amp;rdquo; and want to compare &amp;lsquo;sub&amp;rsquo; submodule state with master:</description></item><item><title>git - use vim with fugitive to resolve merge conflicts</title><link>https://serebrov.github.io/html/2012-04-24-git-fugitive-to-resolve-conflicts.html</link><pubDate>Tue, 24 Apr 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-04-24-git-fugitive-to-resolve-conflicts.html</guid><description>To use fugitive as you mergetool you can use the following.
git config --global mergetool.fugitive.cmd &amp;#39;vim -f -c &amp;#34;Gdiff&amp;#34; &amp;#34;$MERGED&amp;#34;&amp;#39; git config --global merge.tool fugitive Links stackoverflow fugitive screencast</description></item><item><title>git - remove already deleted files</title><link>https://serebrov.github.io/html/2012-10-01-git-rm-deleted-files.html</link><pubDate>Tue, 03 Apr 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-10-01-git-rm-deleted-files.html</guid><description>To remove files that were already deleted on the file system, run git add with -u flag:
git status D abc.c git add -u This tells git to automatically stage tracked files - including deleting the previously tracked files.
Stackoverflow: How do I commit all deleted files in Git?</description></item><item><title>git - rename branch (local and remote)</title><link>https://serebrov.github.io/html/2012-03-15-oauth-1-0.html</link><pubDate>Tue, 03 Apr 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-03-15-oauth-1-0.html</guid><description>Rename local branch:
git branch -m old-branch-name new-branch-name Rename remote branch:
#delete remote branch with old name git push origin :old-branch-name # create remote renamed branch git push origin new-branch-name Links stackoverflow</description></item><item><title>vim - replace a word with yanked text multiple times</title><link>https://serebrov.github.io/html/2012-04-03-vim-replace-word-with-yanked-text.html</link><pubDate>Tue, 03 Apr 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-04-03-vim-replace-word-with-yanked-text.html</guid><description>It is often useful to copy, let&amp;rsquo;s say new_name, to clipboard and then replace one or more occurrences of old_name with it. We can use :%s/new_name/old_name/g for that, but sometimes it is more convenient to go over the text and do replacements &amp;ldquo;manually&amp;rdquo;.
A possible way to do that in vim is:
Yank inner word: yiw (the new_name is now in the default register &amp;quot;&amp;quot;) Move cursor to another word (the old_name) Select it and paste over: viwp (viw - visual inner word, p - paste) What happens next might be unexpected in this scenario: when we pasted over the old_name, it was deleted and put into the default Vim register instead of new_name, so next time we use p, it will paste the old_name (tldr: the xnoremap p pgvy mapping helps fix this).</description></item><item><title>oauth 1.0 notes</title><link>https://serebrov.github.io/html/2012-02-28-git-default-color-diff.html</link><pubDate>Thu, 15 Mar 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-02-28-git-default-color-diff.html</guid><description>oAuth 1.0 flow A good explanation image from oauth.net:
Flow description:
Consumer has Consumer Key and Consumer Secret (shared secret) A) Consumer requests Request Token call get_request_token from Service Provider, send oauth_consumer_key oauth_signature_method oauth_signature &amp;hellip; here oauth_signature - is signature of the request created using Consumer Secret, simplified example: $signature = md5($request_text . $consumer_secret) both sides (Consumer and Service Provider) knows consumer_secret and able to perform this operation, so Service Provider can check whether signature is valid B) Service provider returns Request Token oauth_token oauth_token_secret C) Consumer redirects User to Service Provider oauth_token (request token from B) D) User confirms access and Service Provider redirects User to Consumer oauth_token (request token from B) oauth_verifier (request token verifier) E) Consumer requests Access Token call get_access_token, send oauth_consumer_key oauth_token (request token from B) oauth_signature_method oauth_signature &amp;hellip; oauth_verifier here oauth_signature - is signature of the request created using request token secret from B note, that on step A Consumer uses his Consumer Secret to sign the request and here he use request token secret F) Service provider grants Access Token oauth_token oauth_token_secret G) Consumer Accesses Protected Resources request includes oauth_consumer_key oauth_token (request token from F) oauth_signature_method oauth_signature &amp;hellip; here oauth_signature created using Access Token secret Links wikipedia</description></item><item><title>git - colored diff, branch, etc output by default</title><link>https://serebrov.github.io/html/2012-02-13-git-branches-have-diverged.html</link><pubDate>Tue, 28 Feb 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-02-13-git-branches-have-diverged.html</guid><description>To have colored git commands output, use the following command:
git config color.ui true or (globally)
git config --global color.ui true Alternatively, you can set color for individual git commands.
git config color.branch auto git config color.diff auto git config color.interactive auto git config color.status auto See also color.* options in the git config docs.
Links git book
Color highlighted diffs with git, svn and cvs</description></item><item><title>git - your branch and 'origin/xxx' have diverged error</title><link>https://serebrov.github.io/html/2012-02-10-git-checkout-and-track-remote-branch.html</link><pubDate>Mon, 13 Feb 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-02-10-git-checkout-and-track-remote-branch.html</guid><description>Git error:
Your branch and 'origin/xxx' have diverged, and have 1 and 1 different commit(s) each, respectively. The error is caused by two independent commits - one (or more) on the local branch copy and other - on the remote branch copy (for example, commit by another person to the same branch).
Another case for the error is git rebase (error is expected, see below).
The history looks like this:</description></item><item><title>git - checkout and track remote branch</title><link>https://serebrov.github.io/html/2012-01-24-jquery-check-version.html</link><pubDate>Wed, 01 Feb 2012 00:00:00 +0000</pubDate><guid>https://serebrov.github.io/html/2012-01-24-jquery-check-version.html</guid><description>Note: in recent git versions, it is enough to do git pull and git checkout feature to checkout and start tracking the remote branch.
Before, it was necessary to use the -t (--track) flag to do that:
#creates and checks out &amp;#34;feature&amp;#34; branch that tracks &amp;#34;origin/feature&amp;#34; $ git checkout -t origin/feature Relevant part from the checkout docs:
git checkout [] &amp;hellip; If is not found but there does exist a tracking branch in exactly one remote (call it ) with a matching name and &amp;ndash;no-guess is not specified, treat as equivalent to $ git checkout -b &amp;ndash;track /</description></item></channel></rss>